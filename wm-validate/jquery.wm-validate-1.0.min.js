/*!
 * jquery.wm-validate-1.0 - v 1.0
 * desenvolvido por Welison Menezes
 * email : welisonmenezes@gmail.com
 * 
 *
 * Copyright 2014 Welison Menezes
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License 
 */

;(function(e){"use strict";e.fn.extend({wmValidate:function(t){var n={messages:{required:"Campo obrigatório!",email:"E-mail inválido!",integer:"Apenas números!",digit:"Apenas letras e números!",url:"Url inválida!",minlength:"Texto muito pequeno!",maxlength:"Texto muito grande!",rangelength:"Verifique o tamanho da string.",min:"Valor menor que o esperado.",max:"Valor maior que o esperada.",range:"Verifique o valor.",equalTo:"Campo de confirmação diferente!",date:"Data inválida!",cpf:"CPF inválido!",cnpj:"CNPJ inválido!",cep:"CEP inválido!",phone:"Número inválido!",creditcard:"Número de cartão inválido!"},callbacks:{CB_Input:function(e,n){var r=e,i=r.next(),s=r.attr("type");r.addClass(t.selectors.erro);if(s==="checkbox"||s==="radio"){r.parent().parent().find("label").addClass(t.selectors.erro);r.parent().parent().find("."+t.selectors.msgError).show().html(n)}else{r.parent().find("label").addClass(t.selectors.erro);r.parent().find("."+t.selectors.msgError).show().html(n)}},CB_ClearErrors:function(e){if(!t.config.cleanErrors)return false;var n=e;n.find("label, input, select, textarea").removeClass(t.selectors.erro);n.find("."+t.selectors.msgError).hide().html("")},CB_Required:function(e,n){t.callbacks.CB_Input(e,n)},CB_Email:function(e,n){t.callbacks.CB_Input(e,n)},CB_Integer:function(e,n){t.callbacks.CB_Input(e,n)},CB_Digit:function(e,n){t.callbacks.CB_Input(e,n)},CB_Url:function(e,n){t.callbacks.CB_Input(e,n)},CB_Minlength:function(e,n){t.callbacks.CB_Input(e,n)},CB_Maxlength:function(e,n){t.callbacks.CB_Input(e,n)},CB_RangeLength:function(e,n){t.callbacks.CB_Input(e,n)},CB_Min:function(e,n){t.callbacks.CB_Input(e,n)},CB_Max:function(e,n){t.callbacks.CB_Input(e,n)},CB_Range:function(e,n){t.callbacks.CB_Input(e,n)},CB_EqualTo:function(e,n){t.callbacks.CB_Input(e,n)},CB_Date:function(e,n){t.callbacks.CB_Input(e,n)},CB_Cpf:function(e,n){t.callbacks.CB_Input(e,n)},CB_Cnpj:function(e,n){t.callbacks.CB_Input(e,n)},CB_Cep:function(e,n){t.callbacks.CB_Input(e,n)},CB_Phone:function(e,n){t.callbacks.CB_Input(e,n)},CB_CreditCard:function(e,n){t.callbacks.CB_Input(e,n)},CB_BeforeValidate:function(){},CB_AfterValidate:function(){},CB_Error:function(n){if(!t.config.goToError)return false;var r=n,i;var s=e("."+t.selectors.erro,r).first();if(s.offset()){i=s.offset().top;e("html, body").animate({scrollTop:i},"500")}}},selectors:{submit:"wm-submit",required:"required",email:"email",integer:"integer",digit:"digit",url:"url",minlength:"minlength",maxlength:"maxlength",rangelength:"rangelength",min:"min",max:"max",range:"range",equalTo:"equalTo",date:"date",cpf:"cpf",cnpj:"cnpj",cep:"cep",phone:"phone",creditcard:"creditcard",msgError:"msg-error",erro:"error"},config:{minlength:1,maxlength:10,min:1,max:10,goToError:true,cleanErrors:true}},t=e.extend(true,n,t),r={isEmpty:function(e){return e.length<1||e.length===""?true:false},hasChecked:function(e,t){var n=e,r=t,i=n.attr("name");return r.find('input[name="'+i+'"]:checked').length<1?false:true},isEmail:function(e){var t=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return t.test(e)},isInteger:function(e){var t=new RegExp("^[0-9]+$");return t.test(e)},isDigit:function(e){var t=new RegExp("^[a-zA-Z0-9]+$");return t.test(e)},isUrl:function(e){var t=new RegExp(/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i);return t.test(e)},hasLessThan:function(e,t){return e.length<t?true:false},hasMoreThan:function(e,t){return e.length>t?true:false},hasRangeLength:function(e,t,n){return e.length<=n&&e.length>=t?true:false},isMin:function(e,t){return e<t?true:false},isMax:function(e,t){return e>t?true:false},isRange:function(e,t,n){return e<=n&&e>=t?true:false},equalTo:function(e,t){return e===t},isDate:function(e){var t=false,n=/^\d{1,2}\/\d{1,2}\/\d{4}$/,r,i,s,o,u;if(n.test(e)){r=e.split("/");i=parseInt(r[0],10);s=parseInt(r[1],10);o=parseInt(r[2],10);u=new Date(o,s-1,i,12,0,0,0);if(u.getUTCFullYear()===o&&u.getUTCMonth()===s-1&&u.getUTCDate()===i){t=true}else{t=false}}else{t=false}return t},isCpf:function(e){var t=e,n,r;if(!t){return false}n=t;if(n.length==14||n.length==11){n=n.replace(".","");n=n.replace(".","");n=n.replace("-","");var i=/\D/;if(i.test(n)){return false}else{if(n=="00000000000"||n=="11111111111"||n=="22222222222"||n=="33333333333"||n=="44444444444"||n=="55555555555"||n=="66666666666"||n=="77777777777"||n=="88888888888"||n=="99999999999"){return false}var s=[];var o=0;var u=11;for(var a=0;a<11;a++){s[a]=n.charAt(a);if(a<9)o+=s[a]*--u}if((r=o%11)<2){s[9]=0}else{s[9]=11-r}o=0;u=11;for(var f=0;f<10;f++)o+=s[f]*u--;if((r=o%11)<2){s[10]=0}else{s[10]=11-r}if(n.charAt(9)!=s[9]||n.charAt(10)!=s[10]){return false}}}else{if(n.length===0){return false}else{return false}}return true},isCnpj:function(e){var t=e,n,r,i,s,o,u,a,f,l;t=t.replace(".","");t=t.replace(".","");t=t.replace(".","");t=t.replace("-","");t=t.replace("/","");l=t;f=1;if(l.length<14&&l.length<15)return false;for(s=0;s<l.length-1;s++)if(l.charAt(s)!=l.charAt(s+1)){f=0;break}if(!f){a=l.length-2;n=l.substring(0,a);r=l.substring(a);i=0;u=a-7;for(s=a;s>=1;s--){i+=n.charAt(a-s)*u--;if(u<2)u=9}o=i%11<2?0:11-i%11;if(o!=r.charAt(0))return false;a=a+1;n=l.substring(0,a);i=0;u=a-7;for(s=a;s>=1;s--){i+=n.charAt(a-s)*u--;if(u<2)u=9}o=i%11<2?0:11-i%11;if(o!=r.charAt(1))return false;return true}else return false},isCep:function(e){return/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},isPhone:function(e){var t=e.replace("(","");t=t.replace(")","");t=t.replace("-","");t=t.replace("_","");t=t.replace(" ","");t=t.replace("+","");return/[0-9]{8,14}/.test(t)},isCreditCard:function(e){if(/[^0-9 \-]+/.test(e)){return false}var t=0,n=0,r=false,i,s;var o=e.replace(/\D/g,"");if(o.length<13||o.length>19){return false}for(i=o.length-1;i>=0;i--){s=o.charAt(i);n=parseInt(s,10);if(r){if((n*=2)>9){n-=9}}t+=n;r=!r}return t%10===0}},i={required:function(n){var i=n,s=false;i.find("."+t.selectors.required).each(function(){var n=e(this),o=n.attr("type");if(o==="checkbox"||o==="radio"){if(!r.hasChecked(n,i)){t.callbacks.CB_Required(n,t.messages.required);s=true}}else{if(r.isEmpty(n.val())){t.callbacks.CB_Required(n,t.messages.required);s=true}}});return s},email:function(n){var i=n,s=false;i.find("."+t.selectors.email).each(function(){var n=e(this);if(!r.isEmpty(n.val())&&!r.isEmail(n.val())){t.callbacks.CB_Email(n,t.messages.email);s=true}});return s},integer:function(n){var i=n,s=false;i.find("."+t.selectors.integer).each(function(){var n=e(this);if(!r.isInteger(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Integer(n,t.messages.integer);s=true}});return s},digit:function(n){var i=n,s=false;i.find("."+t.selectors.digit).each(function(){var n=e(this);if(!r.isDigit(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Digit(n,t.messages.digit);s=true}});return s},url:function(n){var i=n,s=false;i.find("."+t.selectors.url).each(function(){var n=e(this);if(!r.isUrl(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Url(n,t.messages.url);s=true}});return s},minlength:function(n){var i=n,s=false;i.find("."+t.selectors.minlength).each(function(){var n=e(this);var i=n.data("minlength")&&parseInt(n.data("minlength"))?n.data("minlength"):t.config.minlength;if(r.hasLessThan(n.val(),i)&&!r.isEmpty(n.val())){t.callbacks.CB_Minlength(n,t.messages.minlength);s=true}});return s},maxlength:function(n){var i=n,s=false;i.find("."+t.selectors.maxlength).each(function(){var n=e(this);var i=n.data("maxlength")&&parseInt(n.data("maxlength"))?n.data("maxlength"):t.config.maxlength;if(r.hasMoreThan(n.val(),i)&&!r.isEmpty(n.val())){t.callbacks.CB_Maxlength(n,t.messages.maxlength);s=true}});return s},rangelength:function(n){var i=n,s=false;i.find("."+t.selectors.rangelength).each(function(){var n=e(this);var i=n.data("maxlength")&&parseInt(n.data("maxlength"))?n.data("maxlength"):t.config.maxlength;var o=n.data("minlength")&&parseInt(n.data("minlength"))?n.data("minlength"):t.config.minlength;if(!r.hasRangeLength(n.val(),o,i)&&!r.isEmpty(n.val())){t.callbacks.CB_RangeLength(n,t.messages.rangelength);s=true}});return s},wm_min:function(n){var i=n,s=false;i.find("."+t.selectors.min).each(function(){var n=e(this);var i=n.data("min")&&parseInt(n.data("min"))?n.data("min"):t.config.min;if(r.isMin(n.val(),i)&&!r.isEmpty(n.val())){t.callbacks.CB_Min(n,t.messages.min);s=true}});return s},wm_max:function(n){var i=n,s=false;i.find("."+t.selectors.max).each(function(){var n=e(this);var i=n.data("max")&&parseInt(n.data("max"))?n.data("max"):t.config.max;if(r.isMax(n.val(),i)&&!r.isEmpty(n.val())){t.callbacks.CB_Max(n,t.messages.max);s=true}});return s},range:function(n){var i=n,s=false;i.find("."+t.selectors.range).each(function(){var n=e(this);var i=n.data("max")&&parseInt(n.data("max"))?n.data("max"):t.config.max;var o=n.data("min")&&parseInt(n.data("min"))?n.data("min"):t.config.min;if(!r.isRange(n.val(),o,i)&&!r.isEmpty(n.val())){t.callbacks.CB_Range(n,t.messages.range);s=true}});return s},equalTo:function(n){var i=n,s=false;i.find("."+t.selectors.equalTo).each(function(){var n=e(this);if(n.data("target")&&!r.equalTo(n.val(),e("."+n.data("target")).val())){t.callbacks.CB_EqualTo(e("."+n.data("target")),t.messages.equalTo);s=true}});return s},date:function(n){var i=n,s=false;i.find("."+t.selectors.date).each(function(){var n=e(this);if(!r.isDate(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Date(n,t.messages.date);s=true}});return s},cpf:function(n){var i=n,s=false;i.find("."+t.selectors.cpf).each(function(){var n=e(this);if(!r.isCpf(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Cpf(n,t.messages.cpf);s=true}});return s},cnpj:function(n){var i=n,s=false;i.find("."+t.selectors.cnpj).each(function(){var n=e(this);if(!r.isCnpj(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Cnpj(n,t.messages.cnpj);s=true}});return s},cep:function(n){var i=n,s=false;i.find("."+t.selectors.cep).each(function(){var n=e(this);if(!r.isCep(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Cep(n,t.messages.cep);s=true}});return s},phone:function(n){var i=n,s=false;i.find("."+t.selectors.phone).each(function(){var n=e(this);if(!r.isPhone(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_Phone(n,t.messages.phone);s=true}});return s},creditcard:function(n){var i=n,s=false;i.find("."+t.selectors.creditcard).each(function(){var n=e(this);if(!r.isCreditCard(n.val())&&!r.isEmpty(n.val())){t.callbacks.CB_CreditCard(n,t.messages.creditcard);s=true}});return s}};return this.each(function(){var n=e(this);n.find("."+t.selectors.msgError).hide();n.find("."+t.selectors.submit).click(function(){var e=0;t.callbacks.CB_BeforeValidate();t.callbacks.CB_ClearErrors(n);if(i.required(n))e++;if(i.email(n))e++;if(i.integer(n))e++;if(i.digit(n))e++;if(i.url(n))e++;if(i.minlength(n))e++;if(i.maxlength(n))e++;if(i.rangelength(n))e++;if(i.wm_min(n))e++;if(i.wm_max(n))e++;if(i.range(n))e++;if(i.equalTo(n))e++;if(i.date(n))e++;if(i.cpf(n))e++;if(i.cnpj(n))e++;if(i.cep(n))e++;if(i.phone(n))e++;if(i.creditcard(n))e++;t.callbacks.CB_AfterValidate();if(e>0){t.callbacks.CB_Error(n)}else{n.submit()}return false})})}})})(jQuery)